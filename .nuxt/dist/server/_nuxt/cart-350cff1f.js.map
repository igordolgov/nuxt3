{"version":3,"file":"cart-350cff1f.js","sources":["../../../../stores/cart.js"],"sourcesContent":["import { defineStore } from 'pinia'\n\nconst state = () => ({\n\titems: [],\n\tshipping: 1000,\n})\n\nconst getters = {\n\tcount() {\n\t\tlet count = 0\n\t\tif (this.items.length) {\n\t\t\tfor (const item of this.items) {\n\t\t\t\tcount = count + item.amount\n\t\t\t}\n\t\t}\n\t\treturn count\n\t},\n\tisEmpty: (state) => state.count === 0,\n\n\ttotal() {\n\t\tlet totalPrice = 0\n\t\tif (this.items.length) {\n\t\t\tfor (const item of this.items) {\n\t\t\t\tlet subtot = item.amount * item.price\n\t\t\t\ttotalPrice = totalPrice + subtot\n\t\t\t}\n\t\t\treturn totalPrice + this.shipping\n\t\t} else {\n\t\t\treturn 0\n\t\t}\n\t},\n}\n\nconst actions = {\n\taddItem(item) {\n\t\tlet exists = false\n\t\tfor (const cartItem of this.items) {\n\t\t\tif (cartItem.id === item.id) {\n\t\t\t\tcartItem.amount = cartItem.amount + 1\n\t\t\t\texists = true\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t\tif (!exists) {\n\t\t\tthis.items.push({\n\t\t\t\t...item,\n\t\t\t\tamount: 1,\n\t\t\t})\n\t\t}\n\t},\n\tclearItem(itemName) {\n\t\tthis.items = this.items.filter((item) => item.name != itemName)\n\t},\n\tincrement(item) {\n\t\tif (item.amount > item.quantity - 1) {\n\t\t\talert(\"Всего товаров: \" + item.quantity + \" шт. Нельзя заказать больше, чем в наличии\")\n\t\t} else {\n\t\t\titem.amount += 1\n\t\t}\n\t},\n\tdecrement(item) {\n\t\tif (item.amount >= 2) {\n\t\t\titem.amount -= 1\n\t\t} else {\n\t\t\titem.amount = 1\n\t\t}\n\t},\n}\n\nexport const useCartStore = defineStore('useCartStore', {\n\tstate,\n\tgetters,\n\tactions\n})\n"],"names":["state"],"mappings":";AAEA,MAAM,QAAQ,OAAO;AAAA,EACpB,OAAO,CAAE;AAAA,EACT,UAAU;AACX;AAEA,MAAM,UAAU;AAAA,EACf,QAAQ;AACP,QAAI,QAAQ;AACZ,QAAI,KAAK,MAAM,QAAQ;AACtB,iBAAW,QAAQ,KAAK,OAAO;AAC9B,gBAAQ,QAAQ,KAAK;AAAA,MACrB;AAAA,IACD;AACD,WAAO;AAAA,EACP;AAAA,EACD,SAAS,CAACA,WAAUA,OAAM,UAAU;AAAA,EAEpC,QAAQ;AACP,QAAI,aAAa;AACjB,QAAI,KAAK,MAAM,QAAQ;AACtB,iBAAW,QAAQ,KAAK,OAAO;AAC9B,YAAI,SAAS,KAAK,SAAS,KAAK;AAChC,qBAAa,aAAa;AAAA,MAC1B;AACD,aAAO,aAAa,KAAK;AAAA,IAC5B,OAAS;AACN,aAAO;AAAA,IACP;AAAA,EACD;AACF;AAEA,MAAM,UAAU;AAAA,EACf,QAAQ,MAAM;AACb,QAAI,SAAS;AACb,eAAW,YAAY,KAAK,OAAO;AAClC,UAAI,SAAS,OAAO,KAAK,IAAI;AAC5B,iBAAS,SAAS,SAAS,SAAS;AACpC,iBAAS;AACT;AAAA,MACA;AAAA,IACD;AACD,QAAI,CAAC,QAAQ;AACZ,WAAK,MAAM,KAAK;AAAA,QACf,GAAG;AAAA,QACH,QAAQ;AAAA,MACZ,CAAI;AAAA,IACD;AAAA,EACD;AAAA,EACD,UAAU,UAAU;AACnB,SAAK,QAAQ,KAAK,MAAM,OAAO,CAAC,SAAS,KAAK,QAAQ,QAAQ;AAAA,EAC9D;AAAA,EACD,UAAU,MAAM;AACf,QAAI,KAAK,SAAS,KAAK,WAAW,GAAG;AACpC,YAAM,oBAAoB,KAAK,WAAW,4CAA4C;AAAA,IACzF,OAAS;AACN,WAAK,UAAU;AAAA,IACf;AAAA,EACD;AAAA,EACD,UAAU,MAAM;AACf,QAAI,KAAK,UAAU,GAAG;AACrB,WAAK,UAAU;AAAA,IAClB,OAAS;AACN,WAAK,SAAS;AAAA,IACd;AAAA,EACD;AACF;AAEY,MAAC,eAAe,YAAY,gBAAgB;AAAA,EACvD;AAAA,EACA;AAAA,EACA;AACD,CAAC;"}