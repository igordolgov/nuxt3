{"version":3,"file":"_slug_-989c1243.js","sources":["../../../../pages/products/[slug].vue"],"sourcesContent":["<template lang=\"pug\">\r\nhead\r\n  title SKSAVIA - {{ product.name }}\r\n.product-slug\r\n  .block.sm_flex.my-0.sm_pr-4\r\n    Swiper.mb-0.w-full(\r\n      :modules=\" [SwiperAutoplay, SwiperNavigation, SwiperEffectFade, SwiperPagination, SwiperKeyboard, SwiperMousewheel] \",\r\n      :slides-per-view=\" 1 \", :effect=\"'fade'\", :loop=\" true \", navigation, mousewheel, :keyboard=\"{enabled: true,}\",\r\n      :pagination=\" { clickable: true } \", :autoplay=\" { delay: 8000, disableOnInteraction: true } \")\r\n      SwiperSlide.swiper-slide.flex.justify-center.object-contain.bg-stone-200.aspect-square(\r\n        v-for=\"item in product.images\", :key=\"item.id\")\r\n        img(:src=\"item.src\").object-contain.select-none.w-auto\r\n    div.ml-4.mt-2\r\n      h2.text-xl.font-semibold {{ product.name }}\r\n      p {{ product.description }}\r\n      p(v-if=\"product.quantity > 0\") Кол-во: {{ product.quantity }} шт.\r\n      p(v-else).text-red-500.font-semibold НЕТ В НАЛИЧИИ!\r\n      p {{ product.condition }}\r\n      p.mb-4 {{ product.price }} &#8381;\r\n      button(v-if=\"product.quantity > 0\"\r\n        @click.once=\"cartStore.addItem(product)\" class=\"bg-[#2490C5]\").px-4.py-4.text-white.rounded-lg.hover_bg-sky-600\r\n        | Добавить в&nbsp;Корзину\r\n</template>\r\n\r\n<style lang=\"sass\">\r\n.swiper-wrapper,\r\n.swiper\r\n  max-height: calc(100vh - 56px)\r\n.swiper-slide\r\n  display: flex\r\n  justify-content: center\r\n  text-align: center\r\n.swiper-button-prev,\r\n.swiper-button-next\r\n  color: #2490C5\r\n  font-weight: 700\r\n.swiper-pagination-bullet\r\n  height: 12px\r\n  width: 12px\r\n  margin: 0 5px !important\r\n  &-active\r\n    background: #2490C5\r\n</style>\r\n\r\n<script setup>\r\nimport {useProductStore} from '~~/stores/products'\r\nimport {useCartStore} from '~~/stores/cart'\r\nconst productStore = useProductStore()\r\nconst cartStore = useCartStore()\r\nconst route = useRoute()\r\n\r\nconst product = computed( () => {\r\n  return productStore.products.find( product => {\r\n    return product.slug === route.params.slug\r\n  } )\r\n} )\r\n\r\n// const image = useAssets( `/public/img/${product.value.images}` )\r\n\r\nasync function addToCart () {\r\n  await cartStore.addToCart( {\r\n    id: product.value.id,\r\n    name: product.value.name,\r\n    price: product.value.price,\r\n    currency: 'rub',\r\n    stripePriceId: product.value.stripePriceId\r\n  } )\r\n}\r\n</script>"],"names":["product"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA,UAAM,eAAe,gBAAiB;AACpB,iBAAc;AAChC,UAAM,QAAQ,SAAU;AAExB,UAAM,UAAU,SAAU,MAAM;AAC9B,aAAO,aAAa,SAAS,KAAM,CAAAA,aAAW;AAC5C,eAAOA,SAAQ,SAAS,MAAM,OAAO;AAAA,MACzC,CAAK;AAAA,IACL,CAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}